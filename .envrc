# direnv configuration for WhisperX cuDNN fix
# Install direnv and run: direnv allow

source_env_if_exists .env

# Activate existing uv venv (don't create a new one)
export VIRTUAL_ENV="$(pwd)/.venv"
PATH_add "$VIRTUAL_ENV/bin"

# Set LD_LIBRARY_PATH for cuDNN
CUDNN_PATH="$VIRTUAL_ENV/lib/python3.12/site-packages/nvidia/cudnn/lib"

if [ -d "$CUDNN_PATH" ]; then
    export LD_LIBRARY_PATH="${CUDNN_PATH}:${LD_LIBRARY_PATH}"
fi
